/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
import assert from 'assert';
import { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';
import { computeRanges } from '../../browser/indentRangeProvider.js';
import { createTextModel } from '../../../../test/common/testTextModel.js';
function assertRanges(lines, expected, offside, markers) {
    const model = createTextModel(lines.join('\n'));
    const actual = computeRanges(model, offside, markers);
    const actualRanges = [];
    for (let i = 0; i < actual.length; i++) {
        actualRanges[i] = r(actual.getStartLineNumber(i), actual.getEndLineNumber(i), actual.getParentIndex(i));
    }
    assert.deepStrictEqual(actualRanges, expected);
    model.dispose();
}
function r(startLineNumber, endLineNumber, parentIndex, marker = false) {
    return { startLineNumber, endLineNumber, parentIndex };
}
suite('Indentation Folding', () => {
    ensureNoDisposablesAreLeakedInTestSuite();
    test('Fold one level', () => {
        const range = [
            'A',
            '  A',
            '  A',
            '  A'
        ];
        assertRanges(range, [r(1, 4, -1)], true);
        assertRanges(range, [r(1, 4, -1)], false);
    });
    test('Fold two levels', () => {
        const range = [
            'A',
            '  A',
            '  A',
            '    A',
            '    A'
        ];
        assertRanges(range, [r(1, 5, -1), r(3, 5, 0)], true);
        assertRanges(range, [r(1, 5, -1), r(3, 5, 0)], false);
    });
    test('Fold three levels', () => {
        const range = [
            'A',
            '  A',
            '    A',
            '      A',
            'A'
        ];
        assertRanges(range, [r(1, 4, -1), r(2, 4, 0), r(3, 4, 1)], true);
        assertRanges(range, [r(1, 4, -1), r(2, 4, 0), r(3, 4, 1)], false);
    });
    test('Fold decreasing indent', () => {
        const range = [
            '    A',
            '  A',
            'A'
        ];
        assertRanges(range, [], true);
        assertRanges(range, [], false);
    });
    test('Fold Java', () => {
        assertRanges([
            /* 1*/ 'class A {',
            /* 2*/ '  void foo() {',
            /* 3*/ '    console.log();',
            /* 4*/ '    console.log();',
            /* 5*/ '  }',
            /* 6*/ '',
            /* 7*/ '  void bar() {',
            /* 8*/ '    console.log();',
            /* 9*/ '  }',
            /*10*/ '}',
            /*11*/ 'interface B {',
            /*12*/ '  void bar();',
            /*13*/ '}',
        ], [r(1, 9, -1), r(2, 4, 0), r(7, 8, 0), r(11, 12, -1)], false);
    });
    test('Fold Javadoc', () => {
        assertRanges([
            /* 1*/ '/**',
            /* 2*/ ' * Comment',
            /* 3*/ ' */',
            /* 4*/ 'class A {',
            /* 5*/ '  void foo() {',
            /* 6*/ '  }',
            /* 7*/ '}',
        ], [r(1, 3, -1), r(4, 6, -1)], false);
    });
    test('Fold Whitespace Java', () => {
        assertRanges([
            /* 1*/ 'class A {',
            /* 2*/ '',
            /* 3*/ '  void foo() {',
            /* 4*/ '     ',
            /* 5*/ '     return 0;',
            /* 6*/ '  }',
            /* 7*/ '      ',
            /* 8*/ '}',
        ], [r(1, 7, -1), r(3, 5, 0)], false);
    });
    test('Fold Whitespace Python', () => {
        assertRanges([
            /* 1*/ 'def a:',
            /* 2*/ '  pass',
            /* 3*/ '   ',
            /* 4*/ '  def b:',
            /* 5*/ '    pass',
            /* 6*/ '  ',
            /* 7*/ '      ',
            /* 8*/ 'def c: # since there was a deintent here'
        ], [r(1, 5, -1), r(4, 5, 0)], true);
    });
    test('Fold Tabs', () => {
        assertRanges([
            /* 1*/ 'class A {',
            /* 2*/ '\t\t',
            /* 3*/ '\tvoid foo() {',
            /* 4*/ '\t \t//hello',
            /* 5*/ '\t    return 0;',
            /* 6*/ '  \t}',
            /* 7*/ '      ',
            /* 8*/ '}',
        ], [r(1, 7, -1), r(3, 5, 0)], false);
    });
});
const markers = {
    start: /^\s*#region\b/,
    end: /^\s*#endregion\b/
};
suite('Folding with regions', () => {
    ensureNoDisposablesAreLeakedInTestSuite();
    test('Inside region, indented', () => {
        assertRanges([
            /* 1*/ 'class A {',
            /* 2*/ '  #region',
            /* 3*/ '  void foo() {',
            /* 4*/ '     ',
            /* 5*/ '     return 0;',
            /* 6*/ '  }',
            /* 7*/ '  #endregion',
            /* 8*/ '}',
        ], [r(1, 7, -1), r(2, 7, 0, true), r(3, 5, 1)], false, markers);
    });
    test('Inside region, not indented', () => {
        assertRanges([
            /* 1*/ 'var x;',
            /* 2*/ '#region',
            /* 3*/ 'void foo() {',
            /* 4*/ '     ',
            /* 5*/ '     return 0;',
            /* 6*/ '  }',
            /* 7*/ '#endregion',
            /* 8*/ '',
        ], [r(2, 7, -1, true), r(3, 6, 0)], false, markers);
    });
    test('Empty Regions', () => {
        assertRanges([
            /* 1*/ 'var x;',
            /* 2*/ '#region',
            /* 3*/ '#endregion',
            /* 4*/ '#region',
            /* 5*/ '',
            /* 6*/ '#endregion',
            /* 7*/ 'var y;',
        ], [r(2, 3, -1, true), r(4, 6, -1, true)], false, markers);
    });
    test('Nested Regions', () => {
        assertRanges([
            /* 1*/ 'var x;',
            /* 2*/ '#region',
            /* 3*/ '#region',
            /* 4*/ '',
            /* 5*/ '#endregion',
            /* 6*/ '#endregion',
            /* 7*/ 'var y;',
        ], [r(2, 6, -1, true), r(3, 5, 0, true)], false, markers);
    });
    test('Nested Regions 2', () => {
        assertRanges([
            /* 1*/ 'class A {',
            /* 2*/ '  #region',
            /* 3*/ '',
            /* 4*/ '  #region',
            /* 5*/ '',
            /* 6*/ '  #endregion',
            /* 7*/ '  // comment',
            /* 8*/ '  #endregion',
            /* 9*/ '}',
        ], [r(1, 8, -1), r(2, 8, 0, true), r(4, 6, 1, true)], false, markers);
    });
    test('Incomplete Regions', () => {
        assertRanges([
            /* 1*/ 'class A {',
            /* 2*/ '#region',
            /* 3*/ '  // comment',
            /* 4*/ '}',
        ], [r(2, 3, -1)], false, markers);
    });
    test('Incomplete Regions 2', () => {
        assertRanges([
            /* 1*/ '',
            /* 2*/ '#region',
            /* 3*/ '#region',
            /* 4*/ '#region',
            /* 5*/ '  // comment',
            /* 6*/ '#endregion',
            /* 7*/ '#endregion',
            /* 8*/ ' // hello',
        ], [r(3, 7, -1, true), r(4, 6, 0, true)], false, markers);
    });
    test('Indented region before', () => {
        assertRanges([
            /* 1*/ 'if (x)',
            /* 2*/ '  return;',
            /* 3*/ '',
            /* 4*/ '#region',
            /* 5*/ '  // comment',
            /* 6*/ '#endregion',
        ], [r(1, 3, -1), r(4, 6, -1, true)], false, markers);
    });
    test('Indented region before 2', () => {
        assertRanges([
            /* 1*/ 'if (x)',
            /* 2*/ '  log();',
            /* 3*/ '',
            /* 4*/ '    #region',
            /* 5*/ '      // comment',
            /* 6*/ '    #endregion',
        ], [r(1, 6, -1), r(2, 6, 0), r(4, 6, 1, true)], false, markers);
    });
    test('Indented region in-between', () => {
        assertRanges([
            /* 1*/ '#region',
            /* 2*/ '  // comment',
            /* 3*/ '  if (x)',
            /* 4*/ '    return;',
            /* 5*/ '',
            /* 6*/ '#endregion',
        ], [r(1, 6, -1, true), r(3, 5, 0)], false, markers);
    });
    test('Indented region after', () => {
        assertRanges([
            /* 1*/ '#region',
            /* 2*/ '  // comment',
            /* 3*/ '',
            /* 4*/ '#endregion',
            /* 5*/ '  if (x)',
            /* 6*/ '    return;',
        ], [r(1, 4, -1, true), r(5, 6, -1)], false, markers);
    });
    test('With off-side', () => {
        assertRanges([
            /* 1*/ '#region',
            /* 2*/ '  ',
            /* 3*/ '',
            /* 4*/ '#endregion',
            /* 5*/ '',
        ], [r(1, 4, -1, true)], true, markers);
    });
    test('Nested with off-side', () => {
        assertRanges([
            /* 1*/ '#region',
            /* 2*/ '  ',
            /* 3*/ '#region',
            /* 4*/ '',
            /* 5*/ '#endregion',
            /* 6*/ '',
            /* 7*/ '#endregion',
            /* 8*/ '',
        ], [r(1, 7, -1, true), r(3, 5, 0, true)], true, markers);
    });
    test('Issue 35981', () => {
        assertRanges([
            /* 1*/ 'function thisFoldsToEndOfPage() {',
            /* 2*/ '  const variable = []',
            /* 3*/ '    // #region',
            /* 4*/ '    .reduce((a, b) => a,[]);',
            /* 5*/ '}',
            /* 6*/ '',
            /* 7*/ 'function thisFoldsProperly() {',
            /* 8*/ '  const foo = "bar"',
            /* 9*/ '}',
        ], [r(1, 4, -1), r(2, 4, 0), r(7, 8, -1)], false, markers);
    });
    test('Misspelled Markers', () => {
        assertRanges([
            /* 1*/ '#Region',
            /* 2*/ '#endregion',
            /* 3*/ '#regionsandmore',
            /* 4*/ '#endregion',
            /* 5*/ '#region',
            /* 6*/ '#end region',
            /* 7*/ '#region',
            /* 8*/ '#endregionff',
        ], [], true, markers);
    });
    test('Issue 79359', () => {
        assertRanges([
            /* 1*/ '#region',
            /* 2*/ '',
            /* 3*/ 'class A',
            /* 4*/ '  foo',
            /* 5*/ '',
            /* 6*/ 'class A',
            /* 7*/ '  foo',
            /* 8*/ '',
            /* 9*/ '#endregion',
        ], [r(1, 9, -1, true), r(3, 4, 0), r(6, 7, 0)], true, markers);
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZW50UmFuZ2VQcm92aWRlci50ZXN0LmpzIiwic291cmNlUm9vdCI6ImZpbGU6Ly8vaG9tZS9vcGV6X2FtaWx5Xy9BSU5hdGl2ZVN0dWRpby1JREUvYWluYXRpdmUtc3R1ZGlvL3NyYy8iLCJzb3VyY2VzIjpbInZzL2VkaXRvci9jb250cmliL2ZvbGRpbmcvdGVzdC9icm93c2VyL2luZGVudFJhbmdlUHJvdmlkZXIudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O2dHQUdnRztBQUVoRyxPQUFPLE1BQU0sTUFBTSxRQUFRLENBQUM7QUFDNUIsT0FBTyxFQUFFLHVDQUF1QyxFQUFFLE1BQU0sMENBQTBDLENBQUM7QUFFbkcsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHNDQUFzQyxDQUFDO0FBQ3JFLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSwwQ0FBMEMsQ0FBQztBQVEzRSxTQUFTLFlBQVksQ0FBQyxLQUFlLEVBQUUsUUFBK0IsRUFBRSxPQUFnQixFQUFFLE9BQXdCO0lBQ2pILE1BQU0sS0FBSyxHQUFHLGVBQWUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDaEQsTUFBTSxNQUFNLEdBQUcsYUFBYSxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFFdEQsTUFBTSxZQUFZLEdBQTBCLEVBQUUsQ0FBQztJQUMvQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO1FBQ3hDLFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekcsQ0FBQztJQUNELE1BQU0s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